# üöÄ Sanad - Quick Setup Guide

## ‚ö° Quick Start (5 Minutes)

### **Step 1: Clone Repository**

```bash
git clone https://github.com/balawi2991/snd.git
cd snd
```

### **Step 2: Install Dependencies**

```bash
# Install frontend dependencies
npm install

# Install backend dependencies
cd server
npm install
cd ..
```

### **Step 3: Setup Environment (Auto-generate JWT)**

```bash
cd server
npm run setup
```

This will:
- ‚úÖ Create `.env` file
- ‚úÖ Generate secure JWT secret (64 characters)
- ‚úÖ Copy all settings from `.env.example`

### **Step 4: Add API Keys**

Edit `server/.env` and add your API keys:

```env
# DeepSeek API (Required)
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# OpenAI API (Required for embeddings)
OPENAI_API_KEY=sk-your-openai-key-here
```

**Get API Keys:**
- DeepSeek: https://platform.deepseek.com
- OpenAI: https://platform.openai.com

### **Step 5: Setup Database**

```bash
# Install PostgreSQL (if not installed)
# Windows: Download from postgresql.org
# Mac: brew install postgresql
# Linux: sudo apt install postgresql

# Create database
createdb sanad

# Install pgvector extension
psql sanad -c "CREATE EXTENSION vector;"

# Run schema
psql sanad < server/src/db/schema.sql
```

### **Step 6: Run Development Server**

```bash
# From root directory
npm run dev:all
```

This will start:
- ‚úÖ Frontend: http://localhost:5173
- ‚úÖ Backend: http://localhost:3001

---

## üß™ Test the Setup

### **1. Test Backend**

```bash
curl http://localhost:3001/health
```

Should return:
```json
{
  "status": "ok",
  "timestamp": "...",
  "uptime": 123
}
```

### **2. Test Frontend**

Open http://localhost:5173 in browser

### **3. Create First User**

```bash
curl -X POST http://localhost:3001/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "name": "Admin",
    "password": "SecurePass123!"
  }'
```

---

## üìù Environment Variables

### **Backend (`server/.env`)**

Generated automatically by `npm run setup`:

```env
# Server
NODE_ENV=development
PORT=3001

# JWT (Auto-generated - 64 char random string)
JWT_SECRET=<auto-generated>
JWT_EXPIRES_IN=7d
REFRESH_TOKEN_EXPIRES_IN=30d

# APIs (Add your keys)
DEEPSEEK_API_KEY=sk-your-key
OPENAI_API_KEY=sk-your-key

# Database
DATABASE_URL=postgresql://postgres:password@localhost:5432/sanad

# CORS
CORS_ORIGIN=http://localhost:5173

# Rate Limiting
RATE_LIMIT_PER_MINUTE=10
RATE_LIMIT_PER_HOUR=100
RATE_LIMIT_PER_DAY=500

# RAG Configuration
RAG_CHUNK_SIZE=750
RAG_CHUNK_OVERLAP=100
RAG_TOP_K=10
RAG_RERANK_TOP=3
RAG_SIMILARITY_THRESHOLD=0.7
```

### **Frontend (`.env`)**

```env
VITE_API_URL=http://localhost:3001/api
```

---

## üöÇ Deploy to Railway

### **Quick Deploy**

1. Push to GitHub (already done)
2. Go to [Railway](https://railway.app)
3. Click "New Project"
4. Select "Deploy from GitHub repo"
5. Choose `snd` repository
6. Add PostgreSQL service
7. Configure environment variables (copy from `.env.example`)
8. Deploy!

**Detailed Guide**: See `RAILWAY_DEPLOYMENT.md`

---

## üîß Available Scripts

### **Root Directory**

```bash
npm run dev              # Frontend only
npm run dev:server       # Backend only
npm run dev:all          # Both (recommended)
npm run build            # Build frontend
npm run build:server     # Build backend
npm run build:all        # Build both
npm start                # Start production server
```

### **Server Directory**

```bash
npm run setup            # Generate .env with JWT secret
npm run dev              # Start development server
npm run build            # Build TypeScript
npm start                # Start production server
```

---

## üìö Documentation

- **COMPLETE_SUMMARY.md** - Full project overview
- **RAILWAY_DEPLOYMENT.md** - Deployment guide
- **BACKEND_ARCHITECTURE.md** - System architecture
- **IMPLEMENTATION_GUIDE.md** - Development guide

---

## üêõ Troubleshooting

### **"Cannot find module 'cookie-parser'"**

```bash
cd server
npm install
```

### **"DATABASE_URL is required"**

```bash
cd server
npm run setup
# Then edit .env and update DATABASE_URL
```

### **"Extension 'vector' does not exist"**

```bash
psql sanad -c "CREATE EXTENSION vector;"
```

### **Port already in use**

```bash
# Windows
netstat -ano | findstr :3001
taskkill /PID <PID> /F

# Mac/Linux
lsof -ti:3001 | xargs kill -9
```

---

## ‚úÖ Setup Checklist

- [ ] Repository cloned
- [ ] Dependencies installed (root + server)
- [ ] `.env` generated (`npm run setup`)
- [ ] API keys added
- [ ] PostgreSQL installed
- [ ] Database created
- [ ] pgvector extension installed
- [ ] Schema applied
- [ ] Development server running
- [ ] Health check passing
- [ ] First user created

---

## üéØ Next Steps

1. ‚úÖ Complete setup (above)
2. ‚úÖ Add training materials
3. ‚úÖ Test chat functionality
4. ‚úÖ Deploy to Railway
5. ‚úÖ Configure custom domain (optional)

---

## üí° Tips

- Run `npm run setup` anytime to regenerate `.env`
- Keep `.env` file secret (never commit to git)
- Use different JWT secrets for dev/production
- Backup your database regularly

---

## üìû Support

- **Issues**: https://github.com/balawi2991/snd/issues
- **Documentation**: See `/docs` folder
- **Railway**: https://docs.railway.app

---

**üéâ Happy Coding!**
