# ๐ฟ MintChat - ููุฎุต ุงููุดุฑูุน ุจุงูุนุฑุจูุฉ

## โ ูุง ุชู ุฅูุฌุงุฒู

### ๐ฏ ุงููุดุฑูุน ุงููุงูู ุฌุงูุฒ ูููุดุฑ ุนูู Railway!

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

### ูุง ูู MintChatุ
ููุตุฉ SaaS ูุชูุงููุฉ ูุฅูุดุงุก chatbots ุฐููุฉ ูุฏุนููุฉ ุจู:
- **DeepSeek AI** - ููุฑุฏูุฏ ุงูุฐููุฉ
- **RAG System** - ููุจุญุซ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ
- **pgvector** - ููุจุญุซ ุงูุฏูุงูู
- **Multi-tenancy** - ุนุฒู ูุงูู ุจูู ุงููุณุชุฎุฏููู

---

## ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

### Backend (100% ููุชูู) โ
```
server/
โโโ src/
โ   โโโ index.ts              # ููุทุฉ ุงูุฏุฎูู ุงูุฑุฆูุณูุฉ
โ   โโโ config/env.ts         # ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
โ   โโโ lib/                  # ุงูููุชุจุงุช (Prisma, DeepSeek, OpenAI)
โ   โโโ services/             # ููุทู ุงูุนูู
โ   โ   โโโ auth.service.ts   # ุงููุตุงุฏูุฉ
โ   โ   โโโ chat.service.ts   # ุงูุฏุฑุฏุดุฉ ูุน RAG
โ   โ   โโโ rag.service.ts    # ูุธุงู RAG
โ   โโโ routes/               # ููุงุท ุงูููุงูุฉ
โ   โโโ middleware/           # ุงููุณูุทุงุช
โโโ prisma/
    โโโ schema.prisma         # ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช
    โโโ migrations/           # ุงูุชุฑุญููุงุช
```

**ุงููููุฒุงุช:**
- โ Express + TypeScript
- โ Prisma ORM
- โ PostgreSQL + pgvector
- โ JWT Authentication
- โ Rate Limiting
- โ RAG System ูุงูู
- โ DeepSeek Integration
- โ OpenAI Embeddings

### Frontend (85% ููุชูู) ๐ง
```
src/
โโโ components/
โ   โโโ widget/              # ุงูููุฏุฌุช ุงูููุญุฏ
โ   โ   โโโ ChatWidget.tsx   # ุงููููู ุงูุฑุฆูุณู
โ   โ   โโโ ChatWidget.css   # ุงูุฃููุงุท
โ   โโโ appearance/          # ุชุฎุตูุต ุงููุธูุฑ
โ   โโโ conversations/       # ุนุฑุถ ุงููุญุงุฏุซุงุช
โ   โโโ training/            # ุฅุฏุงุฑุฉ ุงูุชุฏุฑูุจ
โ   โโโ ui/                  # ููููุงุช shadcn/ui
โโโ pages/
โ   โโโ auth/                # ุตูุญุงุช ุงููุตุงุฏูุฉ
โ   โโโ app/                 # ุตูุญุงุช ุงูุชุทุจูู
โโโ services/                # ุฎุฏูุงุช API
```

**ุงููููุฒุงุช:**
- โ React + TypeScript
- โ Vite
- โ TailwindCSS + shadcn/ui
- โ ChatWidget ููุญุฏ
- โ ุฌููุน ุงูุตูุญุงุช
- โณ ุฑุจุท API (ุงูุชุงูู)

### Deployment (100% ููุชูู) โ
- โ `railway.json` - ุฅุนุฏุงุฏุงุช Railway
- โ `nixpacks.toml` - ุฅุนุฏุงุฏุงุช ุงูุจูุงุก
- โ Build scripts ุฌุงูุฒุฉ
- โ Health checks
- โ Database migrations

---

## ๐จ ุงูููุฏุฌุช (ChatWidget)

### ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ
- โ **Ask-bar** - ุซุงุจุช ูู ุงูุฃุณูู (center-bottom)
- โ **RGB Glow** - ุญุฏูุฏ ูุชููุฌุฉ ูุชุญุฑูุฉ
- โ **Modal** - ููุชุญ ููู ุงูุดุฑูุท (720px ร 80vh)
- โ **Container-aware** - ูุชููู ูุน ุฃู ุญุงููุฉ
- โ **Responsive** - ูุนูู ุนูู ุงูุฏูุณูุชูุจ ูุงูููุจุงูู
- โ **Accessible** - ุฏุนู ูุงูู ูููุตูููุฉ
- โ **Source chips** - ุนุฑุถ ุงููุตุงุฏุฑ
- โ **Typing indicator** - ูุคุดุฑ ุงููุชุงุจุฉ
- โ **Suggested questions** - ุฃุณุฆูุฉ ููุชุฑุญุฉ

### ุงูุงุณุชุฎุฏุงู
```tsx
<ChatWidget
  config={{
    primaryColor: '#17B26A',
    glowingBorder: true,
    title: 'ุชุญุฏุซ ูุนูุง',
    placeholder: 'ุงุณุฃููู ุฃู ุดูุก...',
    suggestedQuestions: ['ุณุคุงู 1', 'ุณุคุงู 2'],
  }}
  messages={messages}
  onSendMessage={handleSend}
  isTyping={isTyping}
  containerAware={true}
/>
```

---

## ๐ง ูุธุงู RAG

### ููู ูุนููุ

#### 1. ุงูููุฑุณุฉ (Indexing)
```
ูุญุชูู โ ุชูุณูู ููุทุน โ embeddings โ ุชุฎุฒูู ูู pgvector
```

#### 2. ุงูุงุณุชุฑุฌุงุน (Retrieval)
```
ุณุคุงู โ embedding โ ุจุญุซ ุชุดุงุจู โ ุฃูุถู 5 ูุทุน
```

#### 3. ุงูุชูููุฏ (Generation)
```
ุณูุงู + ุณุคุงู โ DeepSeek โ ุฑุฏ + ูุตุงุฏุฑ
```

### ุงูุฏูุงู ุงูุฑุฆูุณูุฉ
- `chunkText()` - ุชูุณูู ุงููุต
- `indexMaterial()` - ุฅูุดุงุก embeddings
- `retrieveContext()` - ุงูุจุญุซ ุนู ุงููุทุน ุงููุดุงุจูุฉ
- `formatContext()` - ุชูุณูู ุงูุณูุงู
- `extractSources()` - ุงุณุชุฎุฑุงุฌ ุงููุตุงุฏุฑ

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงูุฑุฆูุณูุฉ
- **users** - ุญุณุงุจุงุช ุงููุณุชุฎุฏููู
- **bots** - ุฅุนุฏุงุฏุงุช ุงูุจูุชุงุช (ูุงุญุฏ ููู ูุณุชุฎุฏู)
- **training_materials** - ูููุงุชุ ุฑูุงุจุทุ ูุตูุต
- **chunks** - ูุทุน ุงููุต ูุน embeddings
- **conversations** - ุฌูุณุงุช ุงูุฏุฑุฏุดุฉ
- **messages** - ุงูุฑุณุงุฆู ุงููุฑุฏูุฉ
- **usage_logs** - ุชุชุจุน ุงูุงุณุชุฎุฏุงู

### Multi-tenancy
- โ `userId` ุนูู ูู ุงูุฌุฏุงูู
- โ `botId` ููุนุฒู
- โ Cascade deletes
- โ Proper indexes

---

## ๐ ููุงุท ุงูููุงูุฉ (API Endpoints)

### ุงููุตุงุฏูุฉ
- `POST /api/auth/signup` - ุฅูุดุงุก ุญุณุงุจ
- `POST /api/auth/signin` - ุชุณุฌูู ุงูุฏุฎูู

### ุฅุฏุงุฑุฉ ุงูุจูุช
- `GET /api/bot` - ุงูุญุตูู ุนูู ุงูุจูุช
- `PATCH /api/bot/:id` - ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช

### ููุงุฏ ุงูุชุฏุฑูุจ
- `GET /api/training` - ูุงุฆูุฉ ุงูููุงุฏ
- `POST /api/training` - ุฅุถุงูุฉ ูุงุฏุฉ
- `POST /api/training/:id/retrain` - ุฅุนุงุฏุฉ ุงูุชุฏุฑูุจ
- `DELETE /api/training/:id` - ุญุฐู ูุงุฏุฉ

### ุงูุฏุฑุฏุดุฉ
- `POST /api/chat` - ุฅุฑุณุงู ุฑุณุงูุฉ (ูุน RAG)

### ุงููุญุงุฏุซุงุช
- `GET /api/conversations` - ูุงุฆูุฉ ุงููุญุงุฏุซุงุช
- `GET /api/conversations/:id` - ูุญุงุฏุซุฉ ูุงุญุฏุฉ
- `DELETE /api/conversations/:id` - ุญุฐู ูุญุงุฏุซุฉ

### ููุญุฉ ุงูุชุญูู
- `GET /api/dashboard/stats` - ุฅุญุตุงุฆูุงุช

---

## ๐ ุงููุดุฑ ุนูู Railway

### ุงูุฎุทูุงุช ุงูุณุฑูุนุฉ (10 ุฏูุงุฆู)

#### 1. ุฑูุน ุนูู GitHub
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin YOUR_REPO_URL
git push -u origin main
```

#### 2. ุฅูุดุงุก ูุดุฑูุน ุนูู Railway
1. ุงุฐูุจ ุฅูู https://railway.app/new
2. ุงุฎุชุฑ "Deploy from GitHub repo"
3. ุงุฎุชุฑ ุงููุณุชูุฏุน ุงูุฎุงุต ุจู

#### 3. ุฅุถุงูุฉ PostgreSQL
1. ุงุถุบุท "+ New"
2. ุงุฎุชุฑ "Database" โ "PostgreSQL"
3. `DATABASE_URL` ููุถุงู ุชููุงุฆููุง โ

#### 4. ุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ
ูู Railway Dashboard โ Variables:

```env
JWT_SECRET=your-32-character-secret
DEEPSEEK_API_KEY=sk-your-key
OPENAI_API_KEY=sk-your-key
NODE_ENV=production
```

#### 5. ุชูุนูู pgvector
ูู PostgreSQL service โ Data โ Query:
```sql
CREATE EXTENSION IF NOT EXISTS vector;
```

#### 6. ุงูุชุญูู
- โ Build successful
- โ Database connected
- โ pgvector enabled
- โ Server running

---

## ๐ ุงููููุงุช ุงููููุฉ

### ุงูุชูุซูู
- `README.md` - ุงูุชูุซูู ุงููุงูู (ุฅูุฌููุฒู)
- `QUICK_START.md` - ุฏููู 10 ุฏูุงุฆู
- `RAILWAY_SETUP.md` - ุฏููู Railway ููุตู
- `PROJECT_STATUS.md` - ุงูุญุงูุฉ ุงูุญุงููุฉ
- `SUMMARY.md` - ููุฎุต ุงููุดุฑูุน
- `ARABIC_SUMMARY.md` - ูุฐุง ุงูููู

### ุงูุฅุนุฏุงุฏุงุช
- `.env.example` - ูุซุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- `ENV_TEMPLATE.txt` - ูุงูุจ ูููุณุฎ
- `railway.json` - ุฅุนุฏุงุฏุงุช Railway
- `nixpacks.toml` - ุฅุนุฏุงุฏุงุช ุงูุจูุงุก

### Checklists
- `DEPLOYMENT_CHECKLIST.md` - ูุงุฆูุฉ ุงููุดุฑ
- `FINAL_CHECKLIST.md` - ุงูุชุญูู ุงูููุงุฆู

---

## ๐ ุงูุฃูุงู

### ุงููุตุงุฏูุฉ
- โ JWT tokens ุขููุฉ
- โ bcrypt ูุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- โ ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชูููุงุช
- โ ุญูุงูุฉ ุงููุณุงุฑุงุช

### API Security
- โ Rate limiting (30 ุทูุจ/ุฏูููุฉ)
- โ CORS configuration
- โ Input validation (Zod)
- โ SQL injection protection (Prisma)
- โ XSS protection (React)

### ุนุฒู ุงูุจูุงูุงุช
- โ Multi-tenancy ูุงูู
- โ ุงูุชุญูู ูู ุงูููููุฉ
- โ ุฎุตูุตูุฉ ุงููุญุงุฏุซุงุช
- โ Cascade deletes

---

## ๐ ูุณุจุฉ ุงูุฅูุฌุงุฒ

| ุงููููู | ุงููุณุจุฉ | ุงูุญุงูุฉ |
|--------|--------|--------|
| Backend API | 100% | โ ููุชูู |
| Database Schema | 100% | โ ููุชูู |
| RAG System | 100% | โ ููุชูู |
| ChatWidget | 100% | โ ููุชูู |
| Frontend Pages | 85% | ๐ง ุฌุงุฑู |
| API Integration | 20% | โณ ุงูุชุงูู |
| File Upload | 0% | โณ ุงูุชุงูู |
| Link Scraping | 0% | โณ ุงูุชุงูู |
| Deployment | 100% | โ ููุชูู |
| Documentation | 100% | โ ููุชูู |

**ุงูุฅุฌูุงูู: ~80% ููุชูู**

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ุนุงููุฉ ุงูุฃููููุฉ
1. **ุฑุจุท Frontend ุจู Backend**
   - ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูููููุฉ ุจู API ุญููููุฉ
   - ุฅุถุงูุฉ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
   - ุฅุถุงูุฉ ุญุงูุงุช ุงูุชุญููู

2. **ุฑูุน ุงููููุงุช**
   - ุชูููุฐ multer middleware
   - ุชุญููู PDF/DOCX
   - ุงูููุฑุณุฉ ุงูุชููุงุฆูุฉ

3. **ุงุณุชุฎุฑุงุฌ ุงูุฑูุงุจุท**
   - ุฅุถุงูุฉ web scraping
   - ุงุณุชุฎุฑุงุฌ ุงููุต ูู HTML
   - ุงูููุฑุณุฉ ุงูุชููุงุฆูุฉ

### ูุชูุณุทุฉ ุงูุฃููููุฉ
- ุจุญุซ ูุชุตููุฉ ุงููุญุงุฏุซุงุช
- ุชุตุฏูุฑ ุงููุญุงุฏุซุงุช
- ุชุจุฏูู Desktop/Mobile ูู Try
- ุฅุนุงุฏุฉ ุชุนููู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ

### ููุฎูุถุฉ ุงูุฃููููุฉ
- ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
- ุฅุฏุงุฑุฉ ุงูููู ุงูุดุฎุตู
- ุงูููุชุฑุฉ ูุงูุงุดุชุฑุงูุงุช

---

## ๐ก ูุฑุงุฑุงุช ุงูุชุตููู ุงูุฑุฆูุณูุฉ

### 1. Monorepo Structure
**ููุงุฐุงุ** ุชุจุณูุท ุงููุดุฑ ุนูู Railwayุ ูุณุชูุฏุน ูุงุญุฏุ ุฎุฏูุฉ ูุงุญุฏุฉ

### 2. Unified ChatWidget
**ููุงุฐุงุ** ุงูุงุชุณุงูุ ุณูููุฉ ุงูุตูุงูุฉุ ูุตุฏุฑ ูุงุญุฏ ููุญูููุฉ

### 3. Container-Aware Widget
**ููุงุฐุงุ** ูุนูู ูู Appearance previewุ Try pageุ ูุงูููุงูุน ุงูุญููููุฉ

### 4. RAG with pgvector
**ููุงุฐุงุ** ุจุญุซ ุณุฑูุนุ ูุง ุญุงุฌุฉ ููุงุนุฏุฉ ุจูุงูุงุช vector ูููุตูุฉ

### 5. DeepSeek + OpenAI
**ููุงุฐุงุ** DeepSeek ููุฏุฑุฏุดุฉ (ูุนุงู ูู ุญูุซ ุงูุชูููุฉ)ุ OpenAI ููู embeddings (ุฌูุฏุฉ)

### 6. Multi-tenancy
**ููุงุฐุงุ** ูููุฐุฌ SaaSุ ุนุฒู ูุงููุ ูุงุจู ููุชูุณุน

### 7. Railway Deployment
**ููุงุฐุงุ** ุจุณูุทุ ุชููุงุฆูุ PostgreSQL ูุถููุ ูุนููู ุงูุชูููุฉ

---

## โจ ูุง ูููุฒ ูุฐุง ุงููุดุฑูุน

1. **ูุธุงู RAG ูุงูู** - ููุณ ูุฌุฑุฏ chatbotุ ุจู ุงุณุชุฑุฌุงุน ุฐูู
2. **ููุฏุฌุช ุฌููู** - ุฌุงูุฒ ููุฅูุชุงุฌุ ูุงุจู ููุชุฎุตูุตุ ูุชุงุญ
3. **ูุญุณูู ูู Railway** - ูุดุฑ ูู 10 ุฏูุงุฆู
4. **Multi-tenant** - ุจููุฉ SaaS ุญููููุฉ
5. **Type-Safe** - TypeScript ูู ูู ููุงู
6. **ููุซูู ุฌูุฏูุง** - ุฃุฏูุฉ ุดุงููุฉ
7. **ูุงุจู ููุชูุณุน** - ุฌุงูุฒ ููููู

---

## ๐ ุฌุงูุฒ ูููุดุฑ!

ูู ุดูุก ูุนุฏ ูุฌุงูุฒ ูููุดุฑ. ููุท ุงุชุจุน ูุฐู ุงูุฎุทูุงุช:

1. **ุงุญุตู ุนูู API Keys** (DeepSeek + OpenAI)
2. **ุฃูุดุฆ JWT Secret** (`openssl rand -base64 32`)
3. **ุงุฑูุน ุนูู GitHub**
4. **ุงูุดุฑ ุนูู Railway**
5. **ุงุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
6. **ูุนูู pgvector**
7. **ุงุฎุชุจุฑ ูุงุณุชูุชุน!**

---

## ๐ ุงูุฏุนู ูุงูููุงุฑุฏ

### ุงูุชูุซูู
- ุฏููู ูุงูู ูุน ุฃูุซูุฉ
- ุฏููู ุงูุจุฏุก ุงูุณุฑูุน (10 ุฏูุงุฆู)
- ุฏููู Railway ููุตู
- ุชูุซูู API
- ุฏููู ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูููุงุฑุฏ ุงูุฎุงุฑุฌูุฉ
- Railway Docs: https://docs.railway.app
- Prisma Docs: https://www.prisma.io/docs
- DeepSeek API: https://platform.deepseek.com/docs
- OpenAI Docs: https://platform.openai.com/docs

---

## ๐ฅ ููุงุญุธุงุช ูููุฉ

### ูุง ูุนูู ุงูุขู
- โ Backend API ูุงูู ูุน RAG
- โ ููุฏุฌุช ุฌููู ูุนููู
- โ ุฌููุน ุตูุญุงุช Frontend (ุจุจูุงูุงุช ููููุฉ)
- โ ุฌุงูุฒ ูููุดุฑ ุนูู Railway
- โ ูุฎุทุท ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน pgvector

### ูุง ูุญุชุงุฌ ุนูู
- โณ ุฑุจุท Frontend ุจู Backend
- โณ ุชูููุฐ ุฑูุน ุงููููุงุช
- โณ ุชูููุฐ ุงุณุชุฎุฑุงุฌ ุงูุฑูุงุจุท
- โณ ูุธููุฉ ุงูุฏุฑุฏุดุฉ ุงูุญููููุฉ
- โณ ุงุฎุชุจุงุฑ ุงูุฅูุชุงุฌ

### ุงูููุช ุงูููุฏุฑ ููู MVP
- ุฑุจุท Frontend: 2-3 ุณุงุนุงุช
- ุฑูุน ุงููููุงุช: 1-2 ุณุงุนุฉ
- ุงุณุชุฎุฑุงุฌ ุงูุฑูุงุจุท: 1-2 ุณุงุนุฉ
- ุงูุงุฎุชุจุงุฑ ูุงูุชุญุณูู: 2-3 ุณุงุนุงุช
- **ุงูุฅุฌูุงูู:** ~8-10 ุณุงุนุงุช

---

## ๐ ุงุจุฏุฃ ุงูุขู!

ุงููุดุฑูุน ุฌุงูุฒ ุจูุณุจุฉ **80%** ูุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฃุณุงุณูุฉ ูููุฉ:

- โ ูุตุงุฏูุฉ ุขููุฉ
- โ ูุงุนุฏุฉ ุจูุงูุงุช ูุงุจูุฉ ููุชูุณุน
- โ ูุธุงู RAG ุฐูู
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ
- โ ูุดุฑ ุณูู

**ูุง ุชุจูู** ูู ูู ุงูุฃุณุงุณ ุฑุจุท ุงูููุงุท (frontend โ backend) ูุฅุถุงูุฉ ูุนุงูุฌุฉ ุงููููุงุช/ุงูุฑูุงุจุท.

**ุงูููุช ุงูููุฏุฑ ููู MVP:** 8-10 ุณุงุนุงุช ูู ุงูุนูู ุงููุฑูุฒ.

**ุฌุงูุฒ ูููุดุฑ ุนูู Railway:** ูุนู! ููุท ุชุญุชุงุฌ API keys.

---

**ุชู ุงูุจูุงุก ุจู โค๏ธ ุจุงุณุชุฎุฏุงู React ู Node.js ู PostgreSQL ู DeepSeek AI**

**ุขุฎุฑ ุชุญุฏูุซ:** 2024-01-19
